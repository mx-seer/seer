import{i as D,h as b,U as te,v as k,a as ie,b as se,g as Z,V as oe,c as ae,H as ue,f as G,j as z,x as M,W as le,X as ce,Y as K,k as de,w as q,z as ve,Z as ne,_ as U,$ as he,a0 as Q,m as ge,a1 as pe,a2 as _e,a3 as Ee,a4 as w,l as re,p as fe,a5 as L,q as Se,a6 as we,a7 as Te,a8 as Ae,o as Ce}from"./lIa7yOCe.js";function Oe(e,r){return r}function Ie(e,r,t){for(var l=[],g=r.length,a,o=r.length,v=0;v<g;v++){let _=r[v];fe(_,()=>{if(a){if(a.pending.delete(_),a.done.add(_),a.pending.size===0){var u=e.outrogroups;F(U(a.done)),u.delete(a),u.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var i=l.length===0&&t!==null;if(i){var c=t,f=c.parentNode;Ae(f),f.append(c),e.items.clear()}F(r,!i)}else a={pending:new Set(r),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function F(e,r=!0){for(var t=0;t<e.length;t++)Ce(e[t],r)}var ee;function xe(e,r,t,l,g,a=null){var o=e,v=new Map,i=(r&ne)!==0;if(i){var c=e;o=b?D(te(c)):c.appendChild(k())}b&&ie();var f=null,_=oe(()=>{var s=t();return he(s)?s:s==null?[]:U(s)}),u,d=!0;function C(){n.fallback=f,$e(n,u,o,r,l),f!==null&&(u.length===0?(f.f&w)===0?re(f):(f.f^=w,P(f,null,o)):fe(f,()=>{f=null}))}var m=se(()=>{u=Z(_);var s=u.length;let N=!1;if(b){var O=ae(o)===ue;O!==(s===0)&&(o=G(),D(o),z(!1),N=!0)}for(var E=new Set,I=de,x=ve(),h=0;h<s;h+=1){b&&M.nodeType===le&&M.data===ce&&(o=M,N=!0,z(!1));var $=u[h],y=l($,h),p=d?null:v.get(y);p?(p.v&&K(p.v,$),p.i&&K(p.i,h),x&&I.skipped_effects.delete(p.e)):(p=me(v,d?o:ee??(ee=k()),$,y,h,g,r,t),d||(p.e.f|=w),v.set(y,p)),E.add(y)}if(s===0&&a&&!f&&(d?f=q(()=>a(o)):(f=q(()=>a(ee??(ee=k()))),f.f|=w)),b&&s>0&&D(G()),!d)if(x){for(const[R,H]of v)E.has(R)||I.skipped_effects.add(H.e);I.oncommit(C),I.ondiscard(()=>{})}else C();N&&z(!0),Z(_)}),n={effect:m,items:v,outrogroups:null,fallback:f};d=!1,b&&(o=M)}function $e(e,r,t,l,g){var p,R,H,V,Y,j,B,X,J;var a=(l&Te)!==0,o=r.length,v=e.items,i=e.effect.first,c,f=null,_,u=[],d=[],C,m,n,s;if(a)for(s=0;s<o;s+=1)C=r[s],m=g(C,s),n=v.get(m).e,(n.f&w)===0&&((R=(p=n.nodes)==null?void 0:p.a)==null||R.measure(),(_??(_=new Set)).add(n));for(s=0;s<o;s+=1){if(C=r[s],m=g(C,s),n=v.get(m).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(n),S.done.delete(n);if((n.f&w)!==0)if(n.f^=w,n===i)P(n,null,t);else{var N=f?f.next:i;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),T(e,f,n),T(e,n,N),P(n,N,t),f=n,u=[],d=[],i=f.next;continue}if((n.f&L)!==0&&(re(n),a&&((V=(H=n.nodes)==null?void 0:H.a)==null||V.unfix(),(_??(_=new Set)).delete(n))),n!==i){if(c!==void 0&&c.has(n)){if(u.length<d.length){var O=d[0],E;f=O.prev;var I=u[0],x=u[u.length-1];for(E=0;E<u.length;E+=1)P(u[E],O,t);for(E=0;E<d.length;E+=1)c.delete(d[E]);T(e,I.prev,x.next),T(e,f,I),T(e,x,O),i=O,f=x,s-=1,u=[],d=[]}else c.delete(n),P(n,i,t),T(e,n.prev,n.next),T(e,n,f===null?e.effect.first:f.next),T(e,f,n),f=n;continue}for(u=[],d=[];i!==null&&i!==n;)(c??(c=new Set)).add(i),d.push(i),i=i.next;if(i===null)continue}(n.f&w)===0&&u.push(n),f=n,i=n.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(F(U(S.done)),(Y=e.outrogroups)==null||Y.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||c!==void 0){var h=[];if(c!==void 0)for(n of c)(n.f&L)===0&&h.push(n);for(;i!==null;)(i.f&L)===0&&i!==e.fallback&&h.push(i),i=i.next;var $=h.length;if($>0){var y=(l&ne)!==0&&o===0?t:null;if(a){for(s=0;s<$;s+=1)(B=(j=h[s].nodes)==null?void 0:j.a)==null||B.measure();for(s=0;s<$;s+=1)(J=(X=h[s].nodes)==null?void 0:X.a)==null||J.fix()}Ie(e,h,y)}}a&&Se(()=>{var S,W;if(_!==void 0)for(n of _)(W=(S=n.nodes)==null?void 0:S.a)==null||W.apply()})}function me(e,r,t,l,g,a,o,v){var i=(o&_e)!==0?(o&Ee)===0?ge(t,!1,!1):Q(t):null,c=(o&pe)!==0?Q(g):null;return{v:i,i:c,e:q(()=>(a(r,i??t,c??g,v),()=>{e.delete(l)}))}}function P(e,r,t){if(e.nodes)for(var l=e.nodes.start,g=e.nodes.end,a=r&&(r.f&w)===0?r.nodes.start:t;l!==null;){var o=we(l);if(a.before(l),l===g)return;l=o}}function T(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}const A="/api";async function ye(e){const r=new URLSearchParams;e!=null&&e.source&&r.set("source",e.source),e!=null&&e.min_score&&r.set("min_score",e.min_score.toString()),e!=null&&e.limit&&r.set("limit",e.limit.toString()),e!=null&&e.offset&&r.set("offset",e.offset.toString());const t=r.toString(),l=`${A}/opportunities${t?`?${t}`:""}`;return(await fetch(l)).json()}async function be(){return(await fetch(`${A}/opportunities/stats`)).json()}async function Pe(){return(await fetch(`${A}/sources`)).json()}async function Re(e){return(await fetch(`${A}/sources/${e}/toggle`,{method:"POST"})).json()}async function He(){return(await fetch(`${A}/prompts`)).json()}async function Me(e){return(await fetch(`${A}/prompts/${e}/content`)).text()}async function De(e){return(await fetch(`${A}/prompts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function ke(){return(await fetch(`${A}/sources/fetch`,{method:"POST"})).json()}export{Me as a,Pe as b,ye as c,be as d,xe as e,ke as f,He as g,De as h,Oe as i,Re as t};
