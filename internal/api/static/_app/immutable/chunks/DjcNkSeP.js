import{j as y,k as ae,i as ue,g as W,T as ce,l as le,H as de,m as Z,o as x,q as H,A as m,U as ve,V as he,W as Q,u as _e,z as q,C as ge,X as j,N as pe,Y as ee,Z as Se,_ as Ee,$ as Te,a0 as we,a1 as Ae,y as D,a2 as w,a3 as te,v as fe,x as oe,a4 as U,a5 as ie,a6 as ye,a7 as Ne,a8 as Ie,w as $e,a9 as Re,aa as Ce,ab as Oe,ac as ke,ad as Me}from"./ClognnWn.js";function Ue(e,r){return r}function Le(e,r,n){for(var i=[],u=r.length,c,a=r.length,h=0;h<u;h++){let p=r[h];oe(p,()=>{if(c){if(c.pending.delete(p),c.done.add(p),c.pending.size===0){var l=e.outrogroups;z(j(c.done)),l.delete(c),l.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var f=i.length===0&&n!==null;if(f){var d=n,t=d.parentNode;Ie(t),t.append(d),e.items.clear()}z(r,!f)}else c={pending:new Set(r),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(c)}function z(e,r=!0){for(var n=0;n<e.length;n++)$e(e[n],r)}var re;function qe(e,r,n,i,u,c=null){var a=e,h=new Map,f=(r&te)!==0;if(f){var d=e;a=y?x(Ae(d)):d.appendChild(D())}y&&ae();var t=null,p=ce(()=>{var o=n();return pe(o)?o:o==null?[]:j(o)}),l,v=!0;function N(){s.fallback=t,be(s,l,a,r,i),t!==null&&(l.length===0?(t.f&w)===0?fe(t):(t.f^=w,L(t,null,a)):oe(t,()=>{t=null}))}var R=ue(()=>{l=W(p);var o=l.length;let C=!1;if(y){var O=le(a)===de;O!==(o===0)&&(a=Z(),x(a),H(!1),C=!0)}for(var S=new Set,I=_e,k=ge(),_=0;_<o;_+=1){y&&m.nodeType===ve&&m.data===he&&(a=m,C=!0,H(!1));var $=l[_],M=i($,_),g=v?null:h.get(M);g?(g.v&&Q(g.v,$),g.i&&Q(g.i,_),k&&I.skipped_effects.delete(g.e)):(g=Pe(h,v?a:re??(re=D()),$,M,_,u,r,n),v||(g.e.f|=w),h.set(M,g)),S.add(M)}if(o===0&&c&&!t&&(v?t=q(()=>c(a)):(t=q(()=>c(re??(re=D()))),t.f|=w)),y&&o>0&&x(Z()),!v)if(k){for(const[b,P]of h)S.has(b)||I.skipped_effects.add(P.e);I.oncommit(N),I.ondiscard(()=>{})}else N();C&&H(!0),W(p)}),s={effect:R,items:h,outrogroups:null,fallback:t};v=!1,y&&(a=m)}function be(e,r,n,i,u){var g,b,P,Y,B,V,G,X,J;var c=(i&Ne)!==0,a=r.length,h=e.items,f=e.effect.first,d,t=null,p,l=[],v=[],N,R,s,o;if(c)for(o=0;o<a;o+=1)N=r[o],R=u(N,o),s=h.get(R).e,(s.f&w)===0&&((b=(g=s.nodes)==null?void 0:g.a)==null||b.measure(),(p??(p=new Set)).add(s));for(o=0;o<a;o+=1){if(N=r[o],R=u(N,o),s=h.get(R).e,e.outrogroups!==null)for(const T of e.outrogroups)T.pending.delete(s),T.done.delete(s);if((s.f&w)!==0)if(s.f^=w,s===f)L(s,null,n);else{var C=t?t.next:f;s===e.effect.last&&(e.effect.last=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),A(e,t,s),A(e,s,C),L(s,C,n),t=s,l=[],v=[],f=t.next;continue}if((s.f&U)!==0&&(fe(s),c&&((Y=(P=s.nodes)==null?void 0:P.a)==null||Y.unfix(),(p??(p=new Set)).delete(s))),s!==f){if(d!==void 0&&d.has(s)){if(l.length<v.length){var O=v[0],S;t=O.prev;var I=l[0],k=l[l.length-1];for(S=0;S<l.length;S+=1)L(l[S],O,n);for(S=0;S<v.length;S+=1)d.delete(v[S]);A(e,I.prev,k.next),A(e,t,I),A(e,k,O),f=O,t=k,o-=1,l=[],v=[]}else d.delete(s),L(s,f,n),A(e,s.prev,s.next),A(e,s,t===null?e.effect.first:t.next),A(e,t,s),t=s;continue}for(l=[],v=[];f!==null&&f!==s;)(d??(d=new Set)).add(f),v.push(f),f=f.next;if(f===null)continue}(s.f&w)===0&&l.push(s),t=s,f=s.next}if(e.outrogroups!==null){for(const T of e.outrogroups)T.pending.size===0&&(z(j(T.done)),(B=e.outrogroups)==null||B.delete(T));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var _=[];if(d!==void 0)for(s of d)(s.f&U)===0&&_.push(s);for(;f!==null;)(f.f&U)===0&&f!==e.fallback&&_.push(f),f=f.next;var $=_.length;if($>0){var M=(i&te)!==0&&a===0?n:null;if(c){for(o=0;o<$;o+=1)(G=(V=_[o].nodes)==null?void 0:V.a)==null||G.measure();for(o=0;o<$;o+=1)(J=(X=_[o].nodes)==null?void 0:X.a)==null||J.fix()}Le(e,_,M)}}c&&ie(()=>{var T,K;if(p!==void 0)for(s of p)(K=(T=s.nodes)==null?void 0:T.a)==null||K.apply()})}function Pe(e,r,n,i,u,c,a,h){var f=(a&Te)!==0?(a&we)===0?Se(n,!1,!1):ee(n):null,d=(a&Ee)!==0?ee(u):null;return{v:f,i:d,e:q(()=>(c(r,f??n,d??u,h),()=>{e.delete(i)}))}}function L(e,r,n){if(e.nodes)for(var i=e.nodes.start,u=e.nodes.end,c=r&&(r.f&w)===0?r.nodes.start:n;i!==null;){var a=ye(i);if(c.before(i),i===u)return;i=a}}function A(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}const me=Symbol("is custom element"),xe=Symbol("is html");function ze(e){if(y){var r=!1,n=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var i=e.value;ne(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var u=e.checked;ne(e,"checked",null),e.checked=u}}};e.__on_r=n,ie(n),Re()}}function je(e,r){var n=F(e);n.value===(n.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Fe(e,r){var n=F(e);n.checked!==(n.checked=r??void 0)&&(e.checked=r)}function ne(e,r,n,i){var u=F(e);y&&(u[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||u[r]!==(u[r]=n)&&(r==="loading"&&(e[Ce]=n),n==null?e.removeAttribute(r):typeof n!="string"&&He(e).includes(r)?e[r]=n:e.setAttribute(r,n))}function F(e){return e.__attributes??(e.__attributes={[me]:e.nodeName.includes("-"),[xe]:e.namespaceURI===Oe})}var se=new Map;function He(e){var r=e.getAttribute("is")||e.nodeName,n=se.get(r);if(n)return n;se.set(r,n=[]);for(var i,u=e,c=Element.prototype;c!==u;){i=Me(u);for(var a in i)i[a].set&&n.push(a);u=ke(u)}return n}const E="/api";async function Ye(e){const r=new URLSearchParams;e!=null&&e.source&&r.set("source",e.source),e!=null&&e.min_score&&r.set("min_score",e.min_score.toString()),e!=null&&e.limit&&r.set("limit",e.limit.toString()),e!=null&&e.offset&&r.set("offset",e.offset.toString());const n=r.toString(),i=`${E}/opportunities${n?`?${n}`:""}`;return(await fetch(i)).json()}async function Be(){return(await fetch(`${E}/opportunities/stats`)).json()}async function Ve(){return(await fetch(`${E}/sources`)).json()}async function Ge(){return(await fetch(`${E}/sources/types`)).json()}async function Xe(e){return(await fetch(`${E}/sources`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function Je(e){return(await fetch(`${E}/sources/${e}/toggle`,{method:"POST"})).json()}async function Ke(e){await fetch(`${E}/sources/${e}`,{method:"DELETE"})}async function We(){return(await fetch(`${E}/reports`)).json()}async function Ze(e,r){const i=new URLSearchParams().toString(),u=`${E}/reports/generate${i?`?${i}`:""}`;return(await fetch(u,{method:"POST"})).json()}async function Qe(e){return(await fetch(`${E}/reports/${e}/prompt`)).text()}export{We as a,Qe as b,Ve as c,Ge as d,qe as e,Xe as f,Ze as g,Fe as h,Ue as i,ne as j,Ke as k,Ye as l,Be as m,ze as r,je as s,Je as t};
