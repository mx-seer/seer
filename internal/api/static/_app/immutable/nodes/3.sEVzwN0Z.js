import{f as p,a as n,t as ca,c as pa}from"../chunks/BVX7dXtv.js";import{o as _a}from"../chunks/DowC_kZ7.js";import{p as ma,s as k,a as ba,f as S,b as i,t as f,c as fa,d,g as e,e as r,r as t,n as ua,h as xa}from"../chunks/ClognnWn.js";import{d as ga,s as C}from"../chunks/Dyg_a2vo.js";import{i as u}from"../chunks/CCjHch1u.js";import{g as ha,a as ya,s as wa,e as ka,i as Ca,b as Ra}from"../chunks/DjcNkSeP.js";var Pa=p('<span class="loading loading-spinner loading-sm"></span> Generating...',1),Ga=p('<div class="flex justify-center p-8"><span class="loading loading-spinner loading-lg"></span></div>'),Fa=p('<div class="card bg-base-100 shadow-xl"><div class="card-body items-center text-center"><h2 class="card-title">No Reports Yet</h2> <p>Generate your first report to get AI-ready analysis of market opportunities.</p> <div class="card-actions"><button class="btn btn-primary">Generate First Report</button></div></div></div>'),ja=p('<p class="text-sm text-base-content/60"> </p>'),Aa=p('<div class="divider"></div> <div class="prose max-w-none"><pre class="whitespace-pre-wrap text-sm bg-base-200 p-4 rounded-lg"> </pre></div>',1),Ia=p('<div class="card bg-base-100 shadow-xl"><div class="card-body"><div class="flex justify-between items-start"><div><h2 class="card-title"> <div class="badge badge-secondary"> </div></h2> <p class="text-sm text-base-content/60"> </p> <!></div> <button class="btn btn-outline btn-sm">Copy as Prompt</button></div> <!></div></div>'),Ma=p('<div class="space-y-4"></div>'),Ta=p('<div class="modal modal-open"><div class="modal-box max-w-4xl"><h3 class="font-bold text-lg">Copy Prompt for AI</h3> <p class="py-2 text-sm text-base-content/60">Copy this prompt to use with ChatGPT, Claude, or other AI assistants.</p> <div class="form-control mt-4"><textarea class="textarea textarea-bordered h-96 font-mono text-sm" readonly=""></textarea></div> <div class="modal-action"><button class="btn">Cancel</button> <button class="btn btn-primary">Copy to Clipboard</button></div></div> <button class="modal-backdrop" aria-label="Close modal"></button></div>'),za=p('<div class="space-y-6"><div class="flex justify-between items-center"><h1 class="text-2xl font-bold">Reports</h1> <button class="btn btn-primary"><!></button></div> <div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Reports analyze recent opportunities and can be copied as prompts for external AI tools.</span></div> <!></div> <!>',1);function qa(K,O){ma(O,!0);let x=k(ba([])),j=k(!0),g=k(!1),A=k(""),h=k(!1);_a(async()=>{await Q()});async function Q(){d(j,!0);try{d(x,await ya(),!0)}catch(a){console.error("Failed to load reports:",a)}d(j,!1)}async function Y(){d(g,!0);try{const a=await ha();d(x,[a,...e(x)],!0)}catch(a){console.error("Failed to generate report:",a)}d(g,!1)}async function U(a){try{const s=await Ra(a);d(A,s,!0),d(h,!0)}catch(s){console.error("Failed to get prompt:",s)}}async function V(){try{await navigator.clipboard.writeText(e(A)),d(h,!1)}catch(a){console.error("Failed to copy to clipboard:",a)}}function I(a){return new Date(a).toLocaleString()}var q=za(),M=S(q),T=r(M),R=i(r(T),2);R.__click=Y;var W=r(R);{var X=a=>{var s=Pa();ua(),n(a,s)},Z=a=>{var s=ca("Generate Report");n(a,s)};u(W,a=>{e(g)?a(X):a(Z,!1)})}t(R),t(T);var $=i(T,4);{var aa=a=>{var s=Ga();n(a,s)},ta=a=>{var s=pa(),y=S(s);{var w=v=>{var l=Fa(),_=r(l),o=i(r(_),4),m=r(o);m.__click=Y,t(o),t(_),t(l),f(()=>m.disabled=e(g)),n(v,l)},P=v=>{var l=Ma();ka(l,21,()=>e(x),Ca,(_,o)=>{var m=Ia(),E=r(m),z=r(E),D=r(z),B=r(D),H=r(B),J=i(H),sa=r(J);t(J),t(B);var L=i(B,2),oa=r(L);t(L);var ia=i(L,2);{var na=c=>{var b=ja(),G=r(b);t(b),f((F,N)=>C(G,`Period: ${F??""} - ${N??""}`),[()=>I(e(o).period_start),()=>I(e(o).period_end)]),n(c,b)};u(ia,c=>{e(o).period_start&&e(o).period_end&&c(na)})}t(D);var da=i(D,2);da.__click=()=>U(e(o).id),t(z);var la=i(z,2);{var va=c=>{var b=Aa(),G=i(S(b),2),F=r(G),N=r(F,!0);t(F),t(G),f(()=>C(N,e(o).summary)),n(c,b)};u(la,c=>{e(o).summary&&c(va)})}t(E),t(m),f(c=>{C(H,`Report #${e(o).id??""} `),C(sa,`${e(o).opportunity_count??""} opportunities`),C(oa,`Generated: ${c??""}`)},[()=>I(e(o).generated_at)]),n(_,m)}),t(l),n(v,l)};u(y,v=>{e(x).length===0?v(w):v(P,!1)},!0)}n(a,s)};u($,a=>{e(j)?a(aa):a(ta,!1)})}t(M);var ea=i(M,2);{var ra=a=>{var s=Ta(),y=r(s),w=i(r(y),4),P=r(w);xa(P),t(w);var v=i(w,2),l=r(v);l.__click=()=>d(h,!1);var _=i(l,2);_.__click=V,t(v),t(y);var o=i(y,2);o.__click=()=>d(h,!1),t(s),f(()=>wa(P,e(A))),n(a,s)};u(ea,a=>{e(h)&&a(ra)})}f(()=>R.disabled=e(g)),n(K,q),fa()}ga(["click"]);export{qa as component};
